<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasan's Kitchen Digital Menu</title>
    <!-- Load Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom scrollbar styling for a cleaner look */
        ::-webkit-scrollbar {
            height: 8px; /* For horizontal scrollbar on nav */
            width: 8px; /* For vertical scrollbar on body */
        }
        ::-webkit-scrollbar-track {
            background: #1f2937; /* Dark gray track */
        }
        ::-webkit-scrollbar-thumb {
            background: #fcd34d; /* Amber/Gold thumb */
            border-radius: 4px;
        }
        
        /* Smooth scrolling for menu links */
        html {
            scroll-behavior: smooth;
        }
        
        /* Base styling for dark theme and typography */
        body {
            background-color: #111827; /* Dark background */
            color: #f9fafb; /* Light text */
            /* Increased padding-top to accommodate larger header */
            padding-top: 140px; 
        }

        /* Fixed Header and Navigation Bar */
        #fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50; /* Ensure it stays on top */
            background-color: #1f2937; /* Slightly lighter dark background for contrast */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        #nav-bar {
            background-color: #111827;
            padding: 8px 0;
            border-top: 1px solid #374151;
            /* Hide the scrollbar without hiding the content (webkit specific) */
            overflow-x: auto;
            white-space: nowrap;
        }

        /* --- Animation for Cards --- */
        @keyframes slide-in-right {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .slide-in {
            animation: slide-in-right 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            opacity: 0; /* Start invisible */
        }
    </style>
</head>
<body class="font-sans">

    <!-- Fixed Header Container -->
    <header id="fixed-header">
        
        <!-- Header Content - Centered Text & Increased Width -->
        <div id="header-content" class="max-w-6xl mx-auto w-full flex items-center justify-between p-4">
            
            <!-- Logo, Restaurant Info, and View Toggles Group -->
            <div class="flex items-center w-full">
                
                <!-- Image/Logo - fixed size left -->
                <img src="src/Logo.png" 
                     alt="Restaurant Logo" 
                     class="h-16 w-16 rounded-full object-cover flex-shrink-0 shadow-lg">

                <!-- Restaurant Info - takes all available space and centers text -->
                <div id="restaurant-info" class="flex flex-col flex-grow text-center px-4">
                    <h1 class="text-3xl sm:text-4xl font-extrabold text-amber-500 font-serif">Hasan's Kitchen</h1>
                    <p class="text-sm sm:text-base text-gray-300 italic mt-1">Authentic Middle Eastern Cuisine</p>
                </div>

                <!-- View Toggles - fixed size right -->
                <div id="view-toggles" class="flex space-x-2 flex-shrink-0">
                    <button id="grid-view-btn" onclick="toggleView('grid')" class="active bg-amber-600 text-white p-3 rounded-full text-lg transition duration-200 hover:bg-amber-700 shadow-md" aria-label="Grid View">
                        <!-- Icon for Grid View (lucide-react icon equivalent) -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-grid"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M3 15h18"/><path d="M9 3v18"/><path d="M15 3v18"/></svg>
                    </button>
                    <button id="list-view-btn" onclick="toggleView('list')" class="bg-gray-700 text-gray-300 p-3 rounded-full text-lg transition duration-200 hover:bg-gray-600 shadow-md" aria-label="List View">
                        <!-- Icon for List View (lucide-react icon equivalent) -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list"><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
                    </button>
                </div>

            </div>
        </div>

        <!-- Navigation Bar -->
        <nav id="nav-bar">
            <!-- Navigation links will be populated by JavaScript -->
        </nav>
    </header>

    <!-- Main Content Area - Increased Width -->
    <main id="content-area" class="max-w-6xl mx-auto p-4 md:p-8">
        <div id="menu-content">
            <!-- Menu items will be rendered here by JavaScript -->
        </div>
    </main>

    <!-- === ADDED FOOTER SECTION === -->
    <footer class="bg-gray-900 mt-10 py-8 text-center text-gray-400 border-t-2 border-amber-600">
        <div class="max-w-6xl mx-auto px-4">
            <h3 class="text-2xl font-bold text-amber-500 font-serif">Hasan's Kitchen | مطبخ حسن</h3>
            <p class="mt-4 text-lg">
                Contact for Wholesale & Special Occasion Orders: | للتواصل لطلبات الجملة والمناسبات الخاصة:
            </p>
            <p class="text-2xl font-mono text-white tracking-wider my-2">
                71-200583 / 71-200583
            </p>
            <p class="text-sm mt-4 text-gray-500">
                Thank you for dining with us. | شكراً لزيارتكم.
            </p>
        </div>
    </footer>
    <!-- === END OF FOOTER === -->

    <script>
        
        let currentView = 'grid'; // Default view mode

        // Define the raw data structure
        const rawMenuData = [
            // Category: Appetizers
            { id: 1, category: 'appetizers', nameEn: 'Fries & Cheddar', nameAr: 'بطاطا وجبنة شيدر', descEn: 'Fries, cheddar, BBQ, and Mejo-chips.', descAr: 'بطاطا، شيدر، باربكيو، وشيبس ميجو.', price: '4$', imageUrl: 'https://www.thecookierookie.com/wp-content/uploads/2023/01/featured-cheese-fries-recipe.jpg' },
            { id: 2, category: 'appetizers', nameEn: 'Classic Fries Plate', nameAr: 'طبق بطاطا كلاسيكي', descEn: 'Classic crispy fries.', descAr: 'بطاطا مقلية كلاسيكية.', price: '3.5$', imageUrl: 'https://placehold.co/112x112/583707/FFF?text=FRIES' },
            { id: 3, category: 'appetizers', nameEn: 'Special Plate (Shrimp)', nameAr: 'طبق خاص (روبيان)', descEn: 'Fries, sauce, chips, shrimp, and drink.', descAr: 'بطاطا، صوص، شيبس، روبيان، ومشروب.', price: '9$', imageUrl: 'https://placehold.co/112x112/583707/FFF?text=SHRIMP' },
            { id: 4, category: 'appetizers', nameEn: 'Special Plate (Hotdog)', nameAr: 'طبق خاص (هوت دوغ)', descEn: 'Fries, sauce, chips, hotdog, and drink.', descAr: 'بطاطا، صوص، شيبس، هوت دوغ، ومشروب.', price: '5$', imageUrl: 'https://placehold.co/112x112/583707/FFF?text=HOTDOG' },
            { id: 5, category: 'appetizers', nameEn: 'Special Plate (Chicken)', nameAr: 'طبق خاص (دجاج)', descEn: 'Fries, sauce, chips, chicken, and drink.', descAr: 'بطاطا، صوص، شيبس، دجاج، ومشروب.', price: '7$', imageUrl: 'https://placehold.co/112x112/583707/FFF?text=CHICKEN' },

            // Category: Sandwiches
            { id: 6, category: 'sandwiches', nameEn: 'Chicken Charcoal (L)', nameAr: 'دجاج فحم (كبير)', descEn: 'Creamy garlic, special sauce, and pickles.', descAr: 'ثوم كريمي، صوص خاص، ومخلل.', price: '5$', imageUrl: 'https://placehold.co/112x112/754F00/FFF?text=WRAP' },
            { id: 7, category: 'sandwiches', nameEn: 'Chicken Charcoal (M)', nameAr: 'دجاج فحم (وسط)', descEn: 'Creamy garlic, special sauce, and pickles.', descAr: 'ثوم كريمي، صوص خاص، ومخلل.', price: '3.8$', imageUrl: 'https://placehold.co/112x112/754F00/FFF?text=WRAP' },
            { id: 8, category: 'sandwiches', nameEn: 'Tawouk Wrap', nameAr: 'سندويش طاووق', descEn: 'Creamy garlic, special sauce, pickles, and fries.', descAr: 'ثوم كريمي، صوص خاص، مخلل، وبطاطا.', price: '3.8$', imageUrl: 'https://placehold.co/112x112/754F00/FFF?text=TAWOUK' },

            // Category: Burgers - Chicken
            { id: 9, category: 'chicken-burgers', nameEn: 'Classic Chicken Burger', nameAr: 'برغر دجاج كلاسيك', descEn: 'Lettuce, tomato, pickles, onion, special sauce, cheddar, BBQ.', descAr: 'خس، بندورة، مخلل، بصل، صوص خاص، شيدر، باربكيو.', price: '4$', imageUrl: 'https://placehold.co/112x112/9B7D20/FFF?text=BURGER' },
            { id: 10, category: 'chicken-burgers', nameEn: 'Mushroom Chicken Burger', nameAr: 'برغر دجاج بالفطر', descEn: 'Lettuce, special sauce, mushroom sauce, Emmental cheese.', descAr: 'خس، صوص خاص، صوص فطر، جبنة إيمنتال.', price: '6$', imageUrl: 'https://placehold.co/112x112/9B7D20/FFF?text=MUSHROOM' },
            { id: 11, category: 'chicken-burgers', nameEn: 'BBQ Chicken Burger', nameAr: 'برغر دجاج باربكيو', descEn: 'Special sauce, lettuce, pickles, tomato, onion, cheddar, BBQ.', descAr: 'صوص خاص، خس، مخلل، بندورة، بصل، شيدر، باربكيو.', price: '5$', imageUrl: 'https://placehold.co/112x112/9B7D20/FFF?text=BBQ' },
            { id: 12, category: 'chicken-burgers', nameEn: 'Hasan\'s Chicken Burger', nameAr: 'برغر دجاج مطبخ حسن', descEn: 'Special sauce, lettuce, pickles, onion rings, cheddar, BBQ, mozzarella patty.', descAr: 'صوص خاص، خس، مخلل، حلقات بصل، شيدر، باربكيو، باتي موتزاريلا.', price: '9$', imageUrl: 'https://placehold.co/112x112/9B7D20/FFF?text=SPECIAL' },
            
            // Category: Burgers - Beef
            { id: 13, category: 'beef-burgers', nameEn: 'Classic Beef Burger', nameAr: 'برغر لحم كلاسيك', descEn: 'Lettuce, tomato, pickles, onion, special sauce, cheddar, BBQ.', descAr: 'خس، بندورة، مخلل، بصل، صوص خاص، شيدر، باربكيو.', price: '4$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=BURGER' },
            { id: 14, category: 'beef-burgers', nameEn: 'Lebanese Beef Burger', nameAr: 'برغر لحم لبناني', descEn: 'Coleslaw, pickles, fries, ketchup.', descAr: 'كول سلو، مخلل، بطاطا، كاتشب.', price: '4$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=LEBANESE' },
            { id: 15, category: 'beef-burgers', nameEn: 'BBQ Beef Burger', nameAr: 'برغر لحم باربكيو', descEn: 'Special sauce, lettuce, pickles, tomato, onion, cheddar, BBQ.', descAr: 'صوص خاص، خس، مخلل، بندورة، بصل، شيدر، باربكيو.', price: '5$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=BBQ' },
            { id: 16, category: 'beef-burgers', nameEn: 'Hasan\'s Beef Burger', nameAr: 'برغر لحم مطبخ حسن', descEn: 'Lettuce, sauce, mozzarella patty, cheddar, BBQ, turkey, onion rings.', descAr: 'خس، صوص، باتي موتزاريلا، شيدر، باربكيو، تركي، حلقات بصل.', price: '6$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=SPECIAL' },
            { id: 17, category: 'beef-burgers', nameEn: 'Monster Burger', nameAr: 'برغر مونستر', descEn: 'Double beef, lettuce, sauce, mozzarella patty, cheddar, BBQ, turkey, onion rings, chips.', descAr: 'لحم مضاعف، خس، صوص، باتي موتزاريلا، شيدر، باربكيو، تركي، حلقات بصل، شيبس.', price: '8$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=MONSTER' },

            // Category: Plates
            { id: 18, category: 'plates', nameEn: 'Chicken Plate X1', nameAr: 'طبق دجاج فحم $\\text{X1}$', descEn: '1 Chicken Sandwich, fries, pickles, creamy garlic, and a soft drink.', descAr: 'ساندويش دجاج واحد، بطاطا، مخلل، ثوم كريمي، ومشروب.', price: '6$', imageUrl: 'https://placehold.co/112x112/A95B00/FFF?text=PLATE' },
            { id: 19, category: 'plates', nameEn: 'Chicken Plate X2', nameAr: 'طبق دجاج فحم $\\text{X2}$', descEn: '2 Chicken Sandwiches, fries, pickles, creamy garlic, and a soft drink.', descAr: 'ساندويشين دجاج، بطاطا، مخلل، ثوم كريمي، ومشروب.', price: '8$', imageUrl: 'https://placehold.co/112x112/A95B00/FFF?text=PLATE' },
            { id: 20, category: 'plates', nameEn: 'Full Charcoal Chicken', nameAr: 'دجاج فحم كامل', descEn: 'Slow-cooked whole chicken on charcoal.', descAr: 'دجاج كامل مطبوخ ببطء على الفحم.', price: '12$', imageUrl: 'https://placehold.co/112x112/A95B00/FFF?text=CHICKEN' },
            { id: 21, category: 'plates', nameEn: 'Half Charcoal Chicken', nameAr: 'نصف دجاج فحم', descEn: 'Half a slow-cooked chicken on charcoal.', descAr: 'نصف دجاج مطبوخ ببطء على الفحم.', price: '7$', imageUrl: 'https://placehold.co/112x112/A95B00/FFF?text=CHICKEN' },

            // Category: Arabic - Warak Enab
            { id: 22, category: 'warak-enab', nameEn: 'Vine Leaves (Veg.) - 1kg', nameAr: 'ورق عنب بالزيت - 1 كغ', descEn: 'Stuffed vine leaves cooked in oil (Vegetarian).', descAr: 'ورق عنب محشي مطبوخ بالزيت (نباتي).', price: '8$', imageUrl: 'https://placehold.co/112x112/7C3A00/FFF?text=WARAK' },
            { id: 23, category: 'warak-enab', nameEn: 'Vine Leaves (Veg.) - 0.5kg', nameAr: 'ورق عنب بالزيت - 0.5 كغ', descEn: 'Stuffed vine leaves cooked in oil (Vegetarian).', descAr: 'ورق عنب محشي مطبوخ بالزيت (نباتي).', price: '5$', imageUrl: 'https://placehold.co/112x112/7C3A00/FFF?text=WARAK' },
            { id: 24, category: 'warak-enab', nameEn: 'Vine Leaves (Meat) - 1kg', nameAr: 'ورق عنب باللحمة - 1 كغ', descEn: 'Stuffed vine leaves with meat.', descAr: 'ورق عنب محشي باللحمة.', price: '10$', imageUrl: 'https://placehold.co/112x112/7C3A00/FFF?text=WARAK' },
            { id: 25, category: 'warak-enab', nameEn: 'Vine Leaves (Meat) - 0.5kg', nameAr: 'ورق عنب باللحمة - 0.5 كغ', descEn: 'Stuffed vine leaves with meat.', descAr: 'ورق عنب محشي باللحمة.', price: '6$', imageUrl: 'https://placehold.co/112x112/7C3A00/FFF?text=WARAK' },
            { id: 26, category: 'warak-enab', nameEn: 'Cooked Vine Leaves (Veg.)', nameAr: 'ورق عنب بالزيت مطبوخ', descEn: 'Fully cooked stuffed vine leaves with oil.', descAr: 'ورق عنب محشي مطبوخ بالزيت جاهز للأكل.', price: '15$', imageUrl: 'https://placehold.co/112x112/7C3A00/FFF?text=COOKED' },
            { id: 27, category: 'warak-enab', nameEn: 'Cooked Vine Leaves (Meat)', nameAr: 'ورق عنب باللحمة مطبوخ', descEn: 'Fully cooked stuffed vine leaves with meat.', descAr: 'ورق عنب محشي باللحمة جاهز للأكل.', price: '25$', imageUrl: 'https://placehold.co/112x112/7C3A00/FFF?text=COOKED' },

            // Category: Arabic - Kebbeh & Pastries
            { id: 28, category: 'kebbeh', nameEn: 'Kebbeh (Dozen)', nameAr: 'كبة (دزينة)', descEn: 'Traditional Middle Eastern meat croquettes.', descAr: 'كروكيت لحم تقليدي.', price: '6$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=KEBBEH' },
            { id: 29, category: 'kebbeh', nameEn: 'Cheese Rolls (Dozen)', nameAr: 'رقاقات جبنة (دزينة)', descEn: 'Crispy rolls stuffed with cheese.', descAr: 'لفائف مقرمشة محشوة بالجبنة.', price: '4$', imageUrl: 'https://placehold.co/112x112/FFD700/FFF?text=CHEESE' },
            { id: 30, category: 'kebbeh', nameEn: 'Meat Rolls (Dozen)', nameAr: 'رقاقات لحمة (دزينة)', descEn: 'Crispy rolls stuffed with seasoned meat.', descAr: 'لفائف مقرمشة محشوة باللحم المتبل.', price: '5$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=MEAT' },
            { id: 31, category: 'kebbeh', nameEn: 'Vegetable Rolls (Dozen)', nameAr: 'رقاقات خضرة (دزينة)', descEn: 'Crispy rolls stuffed with mixed vegetables.', descAr: 'لفائف مقرمشة محشوة بالخضروات.', price: '4$', imageUrl: 'https://placehold.co/112x112/6B8E23/FFF?text=VEG' },
            { id: 32, category: 'kebbeh', nameEn: 'Meat Sambousek', nameAr: 'سمبوسك لحمة', descEn: 'Pastry pockets filled with seasoned ground meat.', descAr: 'جيوب عجين محشوة باللحم المفروم.', price: '5$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=SAMBOUS' },
            { id: 33, category: 'kebbeh', nameEn: 'Cheese Sambousek', nameAr: 'سمبوسك جبنة', descEn: 'Pastry pockets filled with cheese.', descAr: 'جيوب عجين محشوة بالجبنة.', price: '5$', imageUrl: 'https://placehold.co/112x112/FFD700/FFF?text=SAMBOUS' },
            { id: 34, category: 'kebbeh', nameEn: 'Cheese & Sausage Rolls', nameAr: 'رقاقات جبنة و سجق', descEn: 'Crispy rolls stuffed with cheese and sausage.', descAr: 'لفائف مقرمشة محشوة بالجبنة والسجق.', price: '5$', imageUrl: 'https://placehold.co/112x112/B8860B/FFF?text=SAUSAGE' },
            { id: 35, category: 'kebbeh', nameEn: 'Shish Barak', nameAr: 'شيش برك', descEn: 'Small meat dumplings in a yogurt sauce.', descAr: 'قطع عجين صغيرة محشوة باللحم في صوص لبن.', price: '2$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=BARAK' },

            // Category: Desserts
            { id: 36, category: 'desserts', nameEn: 'Lotus Cheesecake (Slice)', nameAr: 'تشيزكيك لوتس (قطعة)', descEn: 'Rich, creamy cheesecake with Lotus Biscoff.', descAr: 'تشيزكيك غني وكريمي مع بسكويت لوتس.', price: '2$', imageUrl: 'https://placehold.co/112x112/FFC0CB/FFF?text=CAKE' },
            { id: 37, category: 'desserts', nameEn: 'Chocolate Cheesecake (Slice)', nameAr: 'تشيزكيك شوكولا (قطعة)', descEn: 'Rich, creamy cheesecake with chocolate.', descAr: 'تشيزكيك غني وكريمي بالشوكولاتة.', price: '2$', imageUrl: 'https://placehold.co/112x112/8B4513/FFF?text=CAKE' },
            { id: 38, category: 'desserts', nameEn: 'Strawberry Cheesecake (Slice)', nameAr: 'تشيزكيك فراولة (قطعة)', descEn: 'Rich, creamy cheesecake with fresh strawberry.', descAr: 'تشيزكيك غني وكريمي بالفراولة.', price: '2$', imageUrl: 'https://placehold.co/112x112/FF6347/FFF?text=CAKE' },
            { id: 39, category: 'desserts', nameEn: 'Whole Cheesecake', nameAr: 'تشيزكيك كامل', descEn: 'Full cake (pre-order required).', descAr: 'قالب كامل (يتطلب طلب مسبق).', price: '15$', imageUrl: 'https://placehold.co/112x112/FFC0CB/FFF?text=WHOLE' },
            { id: 40, category: 'desserts', nameEn: 'Custard', nameAr: 'كستر', descEn: 'Smooth vanilla custard pudding.', descAr: 'بودينغ كاسترد فانيليا ناعم.', price: '0.6$', imageUrl: 'https://placehold.co/112x112/F0E68C/000?text=CUSTARD' },
            { id: 41, category: 'desserts', nameEn: 'Jello', nameAr: 'جيلو', descEn: 'Classic gelatin dessert.', descAr: 'حلوى جيلاتين كلاسيكية.', price: '0.5$', imageUrl: 'https://placehold.co/112x112/90EE90/000?text=JELLO' },
            { id: 42, category: 'desserts', nameEn: 'Rice Pudding', nameAr: 'رز بالحليب', descEn: 'Traditional rice pudding.', descAr: 'أرز باللبن التقليدي.', price: '0.6$', imageUrl: 'https://placehold.co/112x112/F5DEB3/000?text=RICE' },
            { id: 43, category: 'desserts', nameEn: 'Muhallabia', nameAr: 'مهلبية', descEn: 'Traditional Middle Eastern milk pudding.', descAr: 'حلوى حليب شرق أوسطية تقليدية.', price: '0.6$', imageUrl: 'https://placehold.co/112x112/E0FFFF/000?text=MILK' },
            // Note: Drinks category was not provided in the new data, so it is omitted.
        ];

        // Function to transform the flat list into a categorized map
        function categorizeMenuData(data) {
            const categories = {};
            data.forEach(item => {
                const categoryKey = item.category;
                if (!categories[categoryKey]) {
                    // Title mapping based on the category key
                    let categoryTitleEn = categoryKey.charAt(0).toUpperCase() + categoryKey.slice(1).replace('-', ' ');
                    let categoryTitleAr = 'فئة غير معرفة';
                    switch (categoryKey) {
                        case 'appetizers': categoryTitleAr = 'المقبلات'; break;
                        case 'sandwiches': categoryTitleAr = 'السندويشات'; break;
                        case 'chicken-burgers': categoryTitleAr = 'برغر الدجاج'; break;
                        case 'beef-burgers': categoryTitleAr = 'برغر اللحم'; break;
                        case 'plates': categoryTitleAr = 'الأطباق الرئيسية'; break;
                        case 'warak-enab': categoryTitleAr = 'ورق عنب'; break;
                        case 'kebbeh': categoryTitleAr = 'كبة ومعجنات'; break;
                        case 'desserts': categoryTitleAr = 'الحلويات'; break;
                        // Add more mappings if needed
                    }
                    
                    categories[categoryKey] = {
                        category: categoryTitleEn,
                        categoryAr: categoryTitleAr,
                        id: categoryKey,
                        items: []
                    };
                }
                categories[categoryKey].items.push(item);
            });

            // Convert map back to an ordered array
            return Object.values(categories);
        }

        const menuData = categorizeMenuData(rawMenuData);

        // --- REMOVED Firebase/Authentication Setup ---

        // --- Menu Rendering Functions ---

        /**
         * Renders the category navigation links.
         */
        function renderNavigation() {
            const navBar = document.getElementById('nav-bar');
            let navHtml = `<div class="flex space-x-4 px-4 max-w-6xl mx-auto">`;

            menuData.forEach(category => {
                navHtml += `
                    <a href="#${category.id}" 
                       class="text-gray-300 hover:text-amber-400 p-2 rounded-lg text-sm font-medium transition duration-150 flex-shrink-0"
                       aria-label="Go to ${category.category}">
                        <span class="text-right inline-block ml-2">${category.categoryAr}</span> / <span>${category.category}</span>
                    </a>
                `;
            });

            navHtml += `</div>`;
            navBar.innerHTML = navHtml;
        }

        /**
         * Renders the full menu content based on the current view mode.
         */
        function renderMenu() {
            const menuContent = document.getElementById('menu-content');
            let html = '';
            let itemIndex = 0; // Index for staggered animation delay

            menuData.forEach(categoryData => {
                // Category Header (Displaying both Arabic and English names)
                html += `
                    <h2 id="${categoryData.id}" 
                        class="text-4xl font-bold text-amber-500 mt-12 mb-6 pt-4 border-b border-amber-500/50 flex justify-between items-center">
                        <span dir="rtl">${categoryData.categoryAr}</span>
                        <span class="text-3xl text-gray-400 font-normal hidden sm:inline-block">(${categoryData.category})</span>
                    </h2>
                `;

                // Item Container (Grid or List layout)
                const layoutClasses = currentView === 'grid' 
                    ? 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6' 
                    : 'space-y-4';

                html += `<div class="${layoutClasses}">`;

                categoryData.items.forEach(itemData => {
                    // === FIX: RE-INSERTED MISSING CARD HTML ===
                    
                    // Calculate delay for staggered animation (New)
                    const delay = (itemIndex * 0.05).toFixed(2); // 50ms delay per item

                    if (currentView === 'list') {
                        // List View Card
                        html += `
                            <div class="slide-in bg-gray-800 p-4 rounded-xl shadow-xl transition duration-300 hover:shadow-amber-500/30 hover:bg-gray-700/50 flex items-start space-x-4" 
                                 style="animation-delay: ${delay}s;">
                                <img src="${itemData.imageUrl}" 
                                     alt="${itemData.nameEn}" 
                                     class="h-20 w-20 rounded-lg object-cover flex-shrink-0 border-2 border-amber-500/50"
                                     onerror="this.onerror=null; this.src='https://placehold.co/80x80/6b7280/f9fafb?text=Item'">
                                <div class="flex-grow">
                                    <div class="flex justify-between items-start mb-1">
                                        <div class="flex flex-col">
                                            <h3 class="text-xl font-semibold text-amber-300">${itemData.nameEn}</h3>
                                            <h3 class="text-lg font-medium text-gray-200" dir="rtl">${itemData.nameAr}</h3>
                                        </div>
                                        <span class="text-2xl font-bold text-amber-500 flex-shrink-0 ml-4">${itemData.price}</span>
                                    </div>
                                    <p class="text-gray-400 text-sm">${itemData.descEn}</p>
                                    <p class="text-gray-400 text-sm" dir="rtl">${itemData.descAr}</p>
                                </div>
                            </div>
                        `;
                    } else {
                        // Grid View Card
                        html += `
                            <div class="slide-in bg-gray-800 p-4 rounded-xl shadow-xl transition duration-300 hover:shadow-amber-500/30 hover:bg-gray-700/50 flex flex-col items-start"
                                 style="animation-delay: ${delay}s;">
                                <img src="${itemData.imageUrl}" 
                                     alt="${itemData.nameEn}" 
                                     class="w-full h-40 object-cover rounded-lg mb-4 border-2 border-amber-500/50"
                                     onerror="this.onerror=null; this.src='https://placehold.co/300x160/6b7280/f9fafb?text=Item'">
                                <div class="w-full mb-2">
                                    <div class="flex justify-between items-center mb-1">
                                        <h3 class="text-xl font-semibold text-amber-300">${itemData.nameEn}</h3>
                                        <span class="text-2xl font-bold text-amber-500">${itemData.price}</span>
                                    </div>
                                    <h3 class="text-lg font-medium text-gray-200" dir="rtl">${itemData.nameAr}</h3>
                                </div>
                                <p class="text-gray-400 text-sm">${itemData.descEn}</p>
                                <p class="text-gray-400 text-sm" dir="rtl">${itemData.descAr}</p>
                            </div>
                        `;
                    }
                    // === END OF FIX ===

                    itemIndex++; // Increment index for the stagger effect
                });
                
                html += `</div>`; // End of the main category section (the item container)

                // --- ADDED MANSAT BLOCK ---
                // If this is the 'kebbeh' category (last one before desserts), add the special Mansaf note.
                if (categoryData.id === 'kebbeh') {
                    html += `
                        <h3 class="text-2xl font-semibold text-gray-300 mb-4 mt-8">Mansaf (Meat or Chicken) | مناسف لحمة أو دجاج</h3>
                        <div class="bg-gray-700 p-4 rounded-lg shadow-xl">
                            <p class="text-xl font-semibold text-white">Available Mansaf Types: | أنواع المناسف المتوفرة:</p>
                            <ul class="list-disc list-inside text-gray-300 ml-4 mt-2 space-y-1" dir="auto">
                                <li>Oriental Rice (رز شرقي)</li>
                                <li>Kabsa (كبسة)</li>
                                <li>Mandi (مندي)</li>
                                <li>Biryani (برياني)</li>
                            </ul>
                            <div class="bg-gray-800 p-3 mt-4 rounded-md text-center text-sm font-medium">
                                <span class="text-amber-300 font-bold">Pricing Note:</span> Mansaf dishes are priced according to the number of people/portion size. Please inquire with staff. <br> <span class="text-amber-300 font-bold">ملاحظة التسعير:</span> تسعر أطباق المناسف حسب عدد الأشخاص/حجم الحصة. يرجى الاستفسار من الموظفين.
                            </div>
                        </div>
                    `;
                }
                // --- END OF ADDED BLOCK ---

            });
            
            menuContent.innerHTML = html;
        }

        /**
         * Toggles the view mode and re-renders the menu.
         */
        function toggleView(view) {
            currentView = view;
            
            // Update button styles
            const gridBtn = document.getElementById('grid-view-btn');
            const listBtn = document.getElementById('list-view-btn');
            
            if (view === 'grid') {
                gridBtn.classList.add('active', 'bg-amber-600', 'text-white');
                gridBtn.classList.remove('bg-gray-700', 'text-gray-300');
                listBtn.classList.remove('active', 'bg-amber-600', 'text-white');
                listBtn.classList.add('bg-gray-700', 'text-gray-300');
            } else {
                listBtn.classList.add('active', 'bg-amber-600', 'text-white');
                listBtn.classList.remove('bg-gray-700', 'text-gray-300');
                gridBtn.classList.remove('active', 'bg-amber-600', 'text-white');
                gridBtn.classList.add('bg-gray-700', 'text-gray-300');
            }

            // Re-render the menu content
            renderMenu();
        }

        // Initialize and render the menu on load (no Firebase)
        document.addEventListener('DOMContentLoaded', () => {
            renderNavigation();
            renderMenu();
        });
    </script>
</body>
</html>



